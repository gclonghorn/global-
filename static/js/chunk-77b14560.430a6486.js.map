{"version":3,"sources":["webpack:///./src/views/PersonInfo.vue?c64b","webpack:///src/views/PersonInfo.vue","webpack:///./src/views/PersonInfo.vue?54a8","webpack:///./src/views/PersonInfo.vue","webpack:///./src/views/PersonInfo.vue?32ec"],"names":["render","_vm","this","_h","$createElement","_c","_self","directives","name","rawName","value","title","webTitle","expression","staticClass","attrs","staticStyle","head","on","$event","changeHeadVisible","_v","_e","form","ref","class","hide","hideUpload","uploadAvatar","limitNum","handleExceed","handleBeforeUpload","handlePictureCardPreview","handleRemove","imgChange","handleAvatarSuccess","dialogVisible","dialogImageUrl","slot","toCancel","uploadFile","_s","phone","email","ID","changeNameVisible","nameForm","nameRules","nativeOn","type","indexOf","_k","keyCode","key","changeName","model","callback","$$v","$set","changePasswordVisible","passwordForm","passwordRules","changePassword","changePhoneVisible","phoneForm","phoneRules","changePhone","changeEmailVisible","emailForm","emailRules","changeEmail","staticRenderFns","file","$message","message","size","headFile","console","log","fd","append","get","axios","patch","response","localStorage","error","$refs","headForm","resetFields","newHead","fileList","length","url","upload","submit","uploadElement","clearValidate","window","component"],"mappings":"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","file":"static/js/chunk-77b14560.430a6486.js","sourcesContent":["var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{directives:[{name:\"web-title\",rawName:\"v-web-title\",value:({title:_vm.webTitle}),expression:\"{title:webTitle}\"}],staticClass:\"person\"},[_c('el-col',{attrs:{\"span\":4}},[_c('work-space')],1),_c('el-col',{attrs:{\"span\":20}}),_c('div',{staticClass:\"box\"},[_c('el-card',{staticStyle:{\"background-color\":\"whitesmoke\",\"border\":\"0px\",\"padding-top\":\"80px\"},attrs:{\"shadow\":\"never\"}},[_c('br'),_c('el-row',[_c('el-col',{attrs:{\"span\":8}},[_c('el-row',[_c('el-avatar',{attrs:{\"size\":80,\"src\":_vm.head}})],1),_c('br'),_c('el-row',[(_vm.ifChangeHeadVisible)?_c('el-button',{attrs:{\"type\":\"text\",\"icon\":\"el-icon-edit\"},on:{\"click\":function($event){_vm.changeHeadVisible=true}}},[_vm._v(\"修改头像\")]):_vm._e()],1),_c('el-dialog',{attrs:{\"title\":\"修改头像\",\"visible\":_vm.changeHeadVisible,\"modal-append-to-body\":false,\"width\":\"300px\"},on:{\"update:visible\":function($event){_vm.changeHeadVisible=$event}}},[_c('el-form',{attrs:{\"model\":_vm.form}},[_c('el-form-item',{ref:\"uploadElement\"},[_c('el-upload',{ref:\"upload\",class:{hide:_vm.hideUpload},attrs:{\"action\":\"http://127.0.0.1/users/1/\",\"accept\":\"image/png,image/gif,image/jpg,image/jpeg\",\"list-type\":\"picture-card\",\"http-request\":_vm.uploadAvatar,\"limit\":_vm.limitNum,\"auto-upload\":false,\"on-exceed\":_vm.handleExceed,\"before-upload\":_vm.handleBeforeUpload,\"on-preview\":_vm.handlePictureCardPreview,\"on-remove\":_vm.handleRemove,\"on-change\":_vm.imgChange,\"on-success\":_vm.handleAvatarSuccess}},[_c('i',{staticClass:\"el-icon-plus\"})]),_c('el-dialog',{attrs:{\"visible\":_vm.dialogVisible},on:{\"update:visible\":function($event){_vm.dialogVisible=$event}}},[_c('img',{attrs:{\"width\":\"100%\",\"src\":_vm.dialogImageUrl,\"alt\":\"\"}})])],1)],1),_c('div',{staticClass:\"dialog-footer\",attrs:{\"slot\":\"footer\"},slot:\"footer\"},[_c('el-button',{on:{\"click\":_vm.toCancel}},[_vm._v(\"取 消\")]),_c('el-button',{attrs:{\"type\":\"primary\"},on:{\"click\":_vm.uploadFile}},[_vm._v(\"确 定\")])],1)],1)],1),_c('el-col',{attrs:{\"span\":4}},[_c('el-form',[_c('el-form-item',[_c('i',{staticClass:\"el-icon-user-solid\"},[_vm._v(\" 昵称\")])]),_c('el-form-item',[_c('i',{staticClass:\"el-icon-paperclip\"},[_vm._v(\" 密码\")])]),_c('el-form-item',[_c('i',{staticClass:\"el-icon-phone\"},[_vm._v(\" 手机\")])]),_c('el-form-item',[_c('i',{staticClass:\"el-icon-message\"},[_vm._v(\" 邮箱\")])]),_c('el-form-item',[_c('i',{staticClass:\"el-icon-s-flag\"},[_vm._v(\" 账号ID\")])])],1)],1),_c('el-col',{attrs:{\"span\":8}},[_c('el-form',[_c('el-form-item',[_vm._v(_vm._s(_vm.name))]),_c('el-form-item',[_vm._v(\"********\")]),_c('el-form-item',[_vm._v(_vm._s(_vm.phone))]),_c('el-form-item',[_vm._v(_vm._s(_vm.email)+\" \")]),_c('el-form-item',[_vm._v(_vm._s(_vm.ID))])],1)],1),_c('el-col',{attrs:{\"span\":2}},[(_vm.ifChangeVisible)?_c('el-form',[_c('el-form-item',[_c('el-button',{attrs:{\"type\":\"text\"},on:{\"click\":function($event){_vm.changeNameVisible=true}}},[_vm._v(\"修改\")]),_c('el-dialog',{attrs:{\"title\":\"修改昵称\",\"visible\":_vm.changeNameVisible,\"modal-append-to-body\":false,\"width\":\"300px\"},on:{\"update:visible\":function($event){_vm.changeNameVisible=$event}}},[_c('el-form',{ref:\"nameForm\",attrs:{\"model\":_vm.nameForm,\"rules\":_vm.nameRules,\"enctype\":\"multipart/form-data\"}},[_c('el-form-item',{attrs:{\"prop\":\"newName\"}},[_c('el-input',{attrs:{\"autocomplete\":\"off\",\"placeholder\":\"新昵称\"},nativeOn:{\"keydown\":function($event){if(!$event.type.indexOf('key')&&_vm._k($event.keyCode,\"enter\",13,$event.key,\"Enter\")){ return null; }return _vm.changeName($event)}},model:{value:(_vm.nameForm.newName),callback:function ($$v) {_vm.$set(_vm.nameForm, \"newName\", $$v)},expression:\"nameForm.newName\"}})],1)],1),_c('div',{staticClass:\"dialog-footer\",attrs:{\"slot\":\"footer\"},slot:\"footer\"},[_c('el-button',{on:{\"click\":function($event){_vm.changeNameVisible = false}}},[_vm._v(\"取 消\")]),_c('el-button',{attrs:{\"type\":\"primary\"},on:{\"click\":_vm.changeName}},[_vm._v(\"确 定\")])],1)],1)],1),_c('el-form-item',[_c('el-button',{attrs:{\"type\":\"text\"},on:{\"click\":function($event){_vm.changePasswordVisible=true}}},[_vm._v(\"修改\")]),_c('el-dialog',{attrs:{\"title\":\"修改密码\",\"visible\":_vm.changePasswordVisible,\"modal-append-to-body\":false,\"width\":\"300px\"},on:{\"update:visible\":function($event){_vm.changePasswordVisible=$event}}},[_c('el-form',{ref:\"passwordForm\",attrs:{\"model\":_vm.passwordForm,\"rules\":_vm.passwordRules,\"enctype\":\"multipart/form-data\"}},[_c('el-form-item',{attrs:{\"prop\":\"newPassword\"}},[_c('el-input',{attrs:{\"type\":\"password\",\"autocomplete\":\"off\",\"placeholder\":\"新密码\"},model:{value:(_vm.passwordForm.newPassword),callback:function ($$v) {_vm.$set(_vm.passwordForm, \"newPassword\", $$v)},expression:\"passwordForm.newPassword\"}})],1),_c('br'),_c('el-form-item',{attrs:{\"prop\":\"newPasswordAgain\"}},[_c('el-input',{attrs:{\"type\":\"password\",\"autocomplete\":\"off\",\"placeholder\":\"确认新密码\"},nativeOn:{\"keydown\":function($event){if(!$event.type.indexOf('key')&&_vm._k($event.keyCode,\"enter\",13,$event.key,\"Enter\")){ return null; }return _vm.changePassword($event)}},model:{value:(_vm.passwordForm.newPasswordAgain),callback:function ($$v) {_vm.$set(_vm.passwordForm, \"newPasswordAgain\", $$v)},expression:\"passwordForm.newPasswordAgain\"}})],1)],1),_c('div',{staticClass:\"dialog-footer\",attrs:{\"slot\":\"footer\"},slot:\"footer\"},[_c('el-button',{on:{\"click\":function($event){_vm.changePasswordVisible = false}}},[_vm._v(\"取 消\")]),_c('el-button',{attrs:{\"type\":\"primary\"},on:{\"click\":_vm.changePassword}},[_vm._v(\"确 定\")])],1)],1)],1),_c('el-form-item',[_c('el-button',{attrs:{\"type\":\"text\"},on:{\"click\":function($event){_vm.changePhoneVisible=true}}},[_vm._v(\"修改\")]),_c('el-dialog',{attrs:{\"title\":\"修改手机号\",\"visible\":_vm.changePhoneVisible,\"modal-append-to-body\":false,\"width\":\"300px\"},on:{\"update:visible\":function($event){_vm.changePhoneVisible=$event}}},[_c('el-form',{ref:\"phoneForm\",attrs:{\"model\":_vm.phoneForm,\"rules\":_vm.phoneRules,\"enctype\":\"multipart/form-data\"}},[_c('el-form-item',[_c('el-input',{attrs:{\"type\":\"tel\",\"autocomplete\":\"off\",\"placeholder\":\"新手机号\"},nativeOn:{\"keydown\":function($event){if(!$event.type.indexOf('key')&&_vm._k($event.keyCode,\"enter\",13,$event.key,\"Enter\")){ return null; }return _vm.changePhone($event)}},model:{value:(_vm.phoneForm.newPhone),callback:function ($$v) {_vm.$set(_vm.phoneForm, \"newPhone\", $$v)},expression:\"phoneForm.newPhone\"}})],1)],1),_c('div',{staticClass:\"dialog-footer\",attrs:{\"slot\":\"footer\"},slot:\"footer\"},[_c('el-button',{on:{\"click\":function($event){_vm.changePhoneVisible = false}}},[_vm._v(\"取 消\")]),_c('el-button',{attrs:{\"type\":\"primary\"},on:{\"click\":_vm.changePhone}},[_vm._v(\"确 定\")])],1)],1)],1),_c('el-form-item',[_c('el-button',{attrs:{\"type\":\"text\"},on:{\"click\":function($event){_vm.changeEmailVisible=true}}},[_vm._v(\"修改\")]),_c('el-dialog',{attrs:{\"title\":\"修改邮箱\",\"visible\":_vm.changeEmailVisible,\"modal-append-to-body\":false,\"width\":\"300px\"},on:{\"update:visible\":function($event){_vm.changeEmailVisible=$event}}},[_c('el-form',{ref:\"emailForm\",attrs:{\"model\":_vm.emailForm,\"rules\":_vm.emailRules,\"enctype\":\"multipart/form-data\"}},[_c('el-form-item',[_c('el-input',{attrs:{\"type\":\"email\",\"autocomplete\":\"off\",\"placeholder\":\"新邮箱\"},nativeOn:{\"keydown\":function($event){if(!$event.type.indexOf('key')&&_vm._k($event.keyCode,\"enter\",13,$event.key,\"Enter\")){ return null; }return _vm.changeEmail($event)}},model:{value:(_vm.emailForm.newEmail),callback:function ($$v) {_vm.$set(_vm.emailForm, \"newEmail\", $$v)},expression:\"emailForm.newEmail\"}})],1)],1),_c('div',{staticClass:\"dialog-footer\",attrs:{\"slot\":\"footer\"},slot:\"footer\"},[_c('el-button',{on:{\"click\":function($event){_vm.changeEmailVisible = false}}},[_vm._v(\"取 消\")]),_c('el-button',{attrs:{\"type\":\"primary\"},on:{\"click\":_vm.changeEmail}},[_vm._v(\"确 定\")])],1)],1)],1)],1):_vm._e()],1)],1)],1)],1)],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\r\n  <div class=\"person\" v-web-title=\"{title:webTitle}\">\r\n    <el-col :span=\"4\">\r\n      <work-space></work-space>\r\n    </el-col>\r\n    <el-col :span=\"20\"></el-col>\r\n    <div class=\"box\">\r\n      <el-card style=\"background-color: whitesmoke; border: 0px; padding-top: 80px;\" shadow=\"never\">\r\n        <br>\r\n        <el-row>\r\n          <el-col :span=\"8\">\r\n            <el-row><el-avatar :size=\"80\" :src=\"head\"></el-avatar></el-row>\r\n            <br>\r\n            <el-row><el-button v-if=\"ifChangeHeadVisible\" type=\"text\" icon=\"el-icon-edit\" @click=\"changeHeadVisible=true\">修改头像</el-button></el-row>\r\n             <el-dialog title=\"修改头像\" :visible.sync=\"changeHeadVisible\" :modal-append-to-body=\"false\" width=\"300px\">\r\n                <el-form :model=\"form\">\r\n                  <el-form-item ref=\"uploadElement\">\r\n                    <el-upload ref=\"upload\"\r\n                              action=\"http://127.0.0.1/users/1/\"\r\n                              accept=\"image/png,image/gif,image/jpg,image/jpeg\"\r\n                              list-type=\"picture-card\"\r\n                              :http-request=\"uploadAvatar\"\r\n                              :limit=limitNum\r\n                              :auto-upload=\"false\"\r\n                              :on-exceed=\"handleExceed\"\r\n                              :before-upload=\"handleBeforeUpload\"\r\n                              :on-preview=\"handlePictureCardPreview\"\r\n                              :on-remove=\"handleRemove\"\r\n                              :on-change=\"imgChange\"\r\n                              :on-success=\"handleAvatarSuccess\"\r\n                              :class=\"{hide:hideUpload}\">\r\n                      <i class=\"el-icon-plus\"></i>\r\n                    </el-upload>\r\n                    <el-dialog :visible.sync=\"dialogVisible\">\r\n                      <img width=\"100%\"\r\n                          :src=\"dialogImageUrl\"\r\n                          alt=\"\">\r\n                    </el-dialog>\r\n                  </el-form-item>\r\n                </el-form>\r\n                <div slot=\"footer\" class=\"dialog-footer\">\r\n                  <el-button @click=\"toCancel\">取 消</el-button>\r\n                  <el-button type=\"primary\" @click=\"uploadFile\">确 定</el-button>\r\n                </div>\r\n              </el-dialog> \r\n          </el-col>\r\n          \r\n          <el-col :span=\"4\">\r\n            <el-form>\r\n              <el-form-item><i class=\"el-icon-user-solid\">  昵称</i></el-form-item>\r\n              <el-form-item><i class=\"el-icon-paperclip\">  密码</i></el-form-item>\r\n              <el-form-item><i class=\"el-icon-phone\">  手机</i></el-form-item>\r\n              <el-form-item><i class=\"el-icon-message\">  邮箱</i></el-form-item>\r\n              <el-form-item><i class=\"el-icon-s-flag\">  账号ID</i></el-form-item>\r\n            </el-form>\r\n          </el-col>\r\n\r\n          <el-col :span=\"8\">\r\n            <el-form>\r\n              <el-form-item>{{name}}</el-form-item>\r\n              <el-form-item>********</el-form-item>\r\n              <el-form-item>{{phone}}</el-form-item>\r\n              <el-form-item>{{email}} </el-form-item>\r\n              <el-form-item>{{ID}}</el-form-item>\r\n            </el-form>\r\n          </el-col>\r\n\r\n          <el-col :span=\"2\">\r\n            <el-form v-if=\"ifChangeVisible\">\r\n              <el-form-item><el-button type=\"text\" @click=\"changeNameVisible=true\">修改</el-button>\r\n                <el-dialog title=\"修改昵称\" :visible.sync=\"changeNameVisible\" :modal-append-to-body=\"false\" width=\"300px\">\r\n                  <el-form ref=\"nameForm\" :model=\"nameForm\" :rules=\"nameRules\" enctype=\"multipart/form-data\">\r\n                    <el-form-item prop=\"newName\">\r\n                        <el-input v-model=\"nameForm.newName\" autocomplete=\"off\" placeholder=\"新昵称\" @keydown.enter.native=\"changeName\"></el-input>\r\n                    </el-form-item>\r\n                  </el-form>\r\n                  <div slot=\"footer\" class=\"dialog-footer\">\r\n                    <el-button @click=\"changeNameVisible = false\">取 消</el-button>\r\n                    <el-button type=\"primary\" @click=\"changeName\">确 定</el-button>\r\n                  </div>\r\n                </el-dialog>\r\n              </el-form-item>\r\n\r\n              <el-form-item><el-button type=\"text\" @click=\"changePasswordVisible=true\">修改</el-button>\r\n                <el-dialog title=\"修改密码\" :visible.sync=\"changePasswordVisible\" :modal-append-to-body=\"false\" width=\"300px\">\r\n                  <el-form ref=\"passwordForm\" :model=\"passwordForm\" :rules=\"passwordRules\" enctype=\"multipart/form-data\">\r\n                    <el-form-item prop=\"newPassword\">\r\n                      <el-input v-model=\"passwordForm.newPassword\" type=\"password\" autocomplete=\"off\" placeholder=\"新密码\"></el-input>\r\n                    </el-form-item>\r\n                    <br>\r\n                    <el-form-item prop=\"newPasswordAgain\">\r\n                      <el-input v-model=\"passwordForm.newPasswordAgain\" type=\"password\" autocomplete=\"off\" placeholder=\"确认新密码\" @keydown.enter.native=\"changePassword\"></el-input>\r\n                    </el-form-item>\r\n                  </el-form>\r\n                  <div slot=\"footer\" class=\"dialog-footer\">\r\n                    <el-button @click=\"changePasswordVisible = false\">取 消</el-button>\r\n                    <el-button type=\"primary\" @click=\"changePassword\">确 定</el-button>\r\n                  </div>\r\n                </el-dialog>\r\n              </el-form-item>\r\n\r\n              <el-form-item><el-button type=\"text\" @click=\"changePhoneVisible=true\">修改</el-button>\r\n                <el-dialog title=\"修改手机号\" :visible.sync=\"changePhoneVisible\" :modal-append-to-body=\"false\" width=\"300px\">\r\n                  <el-form ref=\"phoneForm\" :model=\"phoneForm\" :rules=\"phoneRules\" enctype=\"multipart/form-data\">\r\n                    <el-form-item>\r\n                      <el-input v-model=\"phoneForm.newPhone\" type=\"tel\" autocomplete=\"off\" placeholder=\"新手机号\" @keydown.enter.native=\"changePhone\"></el-input>\r\n                    </el-form-item>\r\n                  </el-form>\r\n                  <div slot=\"footer\" class=\"dialog-footer\">\r\n                    <el-button @click=\"changePhoneVisible = false\">取 消</el-button>\r\n                    <el-button type=\"primary\" @click=\"changePhone\">确 定</el-button>\r\n                  </div>\r\n                </el-dialog>\r\n              </el-form-item>\r\n\r\n              <el-form-item><el-button type=\"text\" @click=\"changeEmailVisible=true\">修改</el-button>\r\n                <el-dialog title=\"修改邮箱\" :visible.sync=\"changeEmailVisible\" :modal-append-to-body=\"false\" width=\"300px\">\r\n                  <el-form ref=\"emailForm\" :model=\"emailForm\" :rules=\"emailRules\" enctype=\"multipart/form-data\">\r\n                    <el-form-item>\r\n                      <el-input v-model=\"emailForm.newEmail\" type=\"email\" autocomplete=\"off\" placeholder=\"新邮箱\" @keydown.enter.native=\"changeEmail\"></el-input>\r\n                    </el-form-item>\r\n                  </el-form>\r\n                  <div slot=\"footer\" class=\"dialog-footer\">\r\n                    <el-button @click=\"changeEmailVisible = false\">取 消</el-button>\r\n                    <el-button type=\"primary\" @click=\"changeEmail\">确 定</el-button>\r\n                  </div>\r\n                </el-dialog>\r\n              </el-form-item>\r\n            </el-form>\r\n          </el-col>\r\n        </el-row>\r\n      </el-card>\r\n    </div>\r\n  </div>\r\n</template>\r\n\r\n<script>import Axios from '../api/index'\r\nimport {getUserInfo,getOtherInfo} from '../api/api'\r\n  export default {\r\n    data () {\r\n      var validateNewPasswordAgain = (rule, value, callback) => {\r\n        if(value===''){\r\n          callback(new Error('请再次输入密码'))\r\n        }else if (value !== this.passwordForm.newPassword) {\r\n          callback(new Error('两次密码输入不一致'))\r\n        }else{\r\n          callback()\r\n        }\r\n      }\r\n      return {\r\n        webTitle:'个人主页',\r\n        name: \"whisper\",\r\n        password: \"123123\",\r\n        phone: \"18538947201\",\r\n        email: \"1214960505@qq.com\",\r\n        ID: \"18373154\",\r\n        head: \"https://cube.elemecdn.com/3/7c/3ea6beec64369c2642b92c6726f1epng.png\",\r\n        uploadurl:'http://127.0.0.1:8000/users/',\r\n        hideUpload: false,\r\n        dialogImageUrl:'',\r\n        dialogVisible:false,\r\n        limitNum:1,\r\n        form:{},\r\n        dialogVisible2:false,\r\n\r\n        ifChangeVisible: true,\r\n        ifChangeHeadVisible: true,\r\n        changeHeadVisible: false,\r\n        changePasswordVisible: false,\r\n        changePhoneVisible: false,\r\n        changeEmailVisible: false,\r\n        changeNameVisible: false,\r\n        headForm: {\r\n          newHead: ''\r\n        },\r\n        passwordForm: {\r\n          newPassword: '',\r\n          newPasswordAgain: ''\r\n        },\r\n        passwordRules: {\r\n          newPassword: [\r\n            {required:true, message:'请输入新密码', trigger: 'blur'},\r\n            {min: 4, max:18, message: '密码至少四位', trigger:'blur'}\r\n          ],\r\n          newPasswordAgain: [\r\n            {required: true, message: '两次输入密码必须一致', trigger: 'blur', validator: validateNewPasswordAgain}\r\n          ]\r\n        },\r\n        phoneForm: {\r\n          newPhone: '',\r\n        },\r\n        phoneRules: {\r\n          newPhone: [\r\n            {required:true, message:'请输入新手机号', trigger: 'blur'}\r\n          ]\r\n        },\r\n        emailForm: {\r\n          newEmail: '',\r\n        },\r\n        emailRules: {\r\n          newEmail: [\r\n            {required:true, message:'请输入新邮箱', trigger:'blur'}\r\n          ]\r\n        },\r\n        nameForm: {\r\n          newName: '',\r\n        },\r\n        nameRules: {\r\n          newName: [\r\n            {required:true, message:'请输入新昵称', trigger:'blur'}\r\n          ]\r\n        }\r\n      }\r\n    },\r\n    methods:{\r\n      //获取个人信息\r\n      getPersonInfo(id) {\r\n        getUserInfo(id).then(response => {\r\n          if(response.status===200){\r\n            console.log(response)\r\n            this.name=response.data.username\r\n            this.phone=response.data.mobile\r\n            if(response.data.email === '') this.email='未填写'\r\n            else this.email=response.data.email\r\n            this.password=response.data.password\r\n            this.ID=response.data.id\r\n            this.head=response.data.head\r\n            this.webTitle = this.name + '的个人主页'\r\n          }\r\n          else{\r\n            this.$message({\r\n              message: '获取信息失败'+response.message,\r\n              type: 'error'\r\n            })\r\n          }\r\n        }).catch(error => {\r\n          console.log(error.response)\r\n        })\r\n      },\r\n      //获取他人信息\r\n      getOtherInfo(id) {\r\n        getOtherInfo(id).then(response => {\r\n          if(response.status===200){\r\n            console.log(response)\r\n            this.name=response.data.username\r\n            this.phone=response.data.mobile\r\n            if(response.data.email === '') this.email='未填写'\r\n            else this.email=response.data.email\r\n            this.password=response.data.password\r\n            this.ID=response.data.id\r\n            this.head=response.data.head\r\n            this.webTitle = this.name + '的个人主页'\r\n          }\r\n          else{\r\n            this.$message({\r\n              message: '获取信息失败'+response.message,\r\n              type: 'error'\r\n            })\r\n          }\r\n        }).catch(error => {\r\n          console.log(error.response)\r\n        })\r\n      },\r\n      //修改昵称\r\n      changeName(){\r\n        this.$refs.nameForm.validate((valid) => {\r\n          if(valid){\r\n            const axios = Axios\r\n            axios.patch('/users/'+localStorage.userId+'/',{\r\n              username: this.nameForm.newName\r\n            }).then(response => {\r\n              if(response.status===200){\r\n                console.log(response)\r\n                console.log(localStorage.token)\r\n                this.name=this.nameForm.newName\r\n                this.nameForm.newName=''\r\n                this.$message({\r\n                  message: '修改昵称成功',\r\n                  type: 'info'\r\n                })\r\n                this.$router.push({name: 'Login'})\r\n              }else{\r\n                this.$message({\r\n                  message: '修改昵称失败',\r\n                  type: 'error'\r\n                })\r\n              }\r\n            }).catch(error => {\r\n              console.log(error.response)\r\n            })\r\n            this.changeNameVisible=false\r\n            this.$refs.nameForm.resetFields()\r\n          }\r\n        })\r\n      },\r\n      //修改密码\r\n      changePassword(){\r\n        this.$refs.passwordForm.validate((valid) => {\r\n          if(valid){\r\n            const axios = Axios\r\n            axios.patch('/users/'+localStorage.userId+'/',{\r\n              password: this.passwordForm.newPassword\r\n            }).then(response => {\r\n              if(response.status===200){\r\n                console.log(response)\r\n                console.log(localStorage.token)\r\n                this.password=this.passwordForm.newPassword\r\n                this.passwordForm.newPassword=''\r\n                this.passwordForm.newPasswordAgain=''\r\n                this.$message({\r\n                  message: '修改密码成功',\r\n                  type: 'info'\r\n                })\r\n              }else{\r\n                this.$message({\r\n                  message: '修改密码失败',\r\n                  type: 'error'\r\n                })\r\n              }\r\n            }).catch(error => {\r\n              console.log(error.response)\r\n            })\r\n            this.changePasswordVisible=false\r\n            this.$refs.passwordForm.resetFields()\r\n          }\r\n        })\r\n      },\r\n      //修改手机\r\n      changePhone(){\r\n        this.$refs.phoneForm.validate((valid) => {\r\n          if(valid){\r\n            const axios = Axios\r\n            axios.patch('/users/'+localStorage.userId+'/',{\r\n              mobile: this.phoneForm.newPhone\r\n            }).then(response => {\r\n              if(response.status===200){\r\n                console.log(response)\r\n                console.log(localStorage.token)\r\n                this.phone=this.phoneForm.newPhone\r\n                this.phoneForm.newPhone=''\r\n                this.$message({\r\n                  message: '修改手机号码成功',\r\n                  type: 'info'\r\n                })\r\n              }else{\r\n                this.$message({\r\n                  message: '修改手机号码失败',\r\n                  type: 'error'\r\n                })\r\n              }\r\n            }).catch(error => {\r\n              console.log(error.response)\r\n            })\r\n            this.changePhoneVisible=false\r\n            this.$refs.phoneForm.resetFields()\r\n          }\r\n        })\r\n      },\r\n      //修改邮箱\r\n      changeEmail(){\r\n        this.$refs.emailForm.validate((valid) => {\r\n          if(valid){\r\n            const axios = Axios\r\n            axios.patch('/users/'+localStorage.userId+'/',{\r\n              email: this.emailForm.newEmail\r\n            }).then(response => {\r\n              if(response.status===200){\r\n                console.log(response)\r\n                console.log(localStorage.token)\r\n                this.email=this.emailForm.newEmail\r\n                this.emailForm.newEmail=''\r\n                this.$message({\r\n                  message: '修改邮箱成功',\r\n                  type: 'info'\r\n                })\r\n              }else{\r\n                this.$message({\r\n                  message: '修改邮箱失败',\r\n                  type: 'error'\r\n                })\r\n              }\r\n            }).catch(error => {\r\n              console.log(error.response)\r\n            })\r\n            this.changeEmailVisible=false\r\n            this.$refs.emailForm.resetFields()\r\n          }\r\n        })\r\n      },\r\n      //上传头像\r\n      // 上传文件之前的钩子\r\n    handleBeforeUpload (file) {\r\n      if (!(file.type === 'image/png' || file.type === 'image/gif' || file.type === 'image/jpg' || file.type === 'image/jpeg')) {\r\n        this.$message({\r\n          type: 'error',\r\n          message: '请上传格式为image/png, image/gif, image/jpg, image/jpeg的图片'\r\n        })\r\n      }\r\n      let size = file.size / 1024 / 1024 / 2\r\n      if (size > 2) {\r\n        this.$message({\r\n          type: 'error',\r\n          message: '图片大小必须小于2M'\r\n        })\r\n      }\r\n      if((file.type === 'image/png' || file.type === 'image/gif' || file.type === 'image/jpg' || file.type === 'image/jpeg')&&size<=2){\r\n        this.headFile=file\r\n        console.log('headfile:'+this.headFile)\r\n      }\r\n    },\r\n    //真正的上传函数\r\n    uploadAvatar(){\r\n      let fd = new FormData();//通过form数据格式来传\r\n      fd.append(\"head\", this.headFile); //传文件\r\n      console.log(fd.get('picFile'));\r\n      const axios = Axios\r\n      axios.patch('/users/1/',fd).then(response=>{\r\n        console.log(response)\r\n        if(response.status===200){\r\n          console.log(response)\r\n          this.head=response.data.head\r\n          this.headForm.newHead=''\r\n          localStorage.head = this.head\r\n          this.$addStorageEvent('head',this.head)\r\n          this.$message({\r\n            message: '修改头像成功',\r\n            type: 'info'\r\n          })\r\n          this.getPersonInfo()\r\n        }else{\r\n          this.$message({\r\n            message: '修改头像失败',\r\n            type: 'error'\r\n          })\r\n        }\r\n      }).catch(error => {\r\n        console.log(error.response)\r\n      })\r\n      this.changeHeadVisible=false\r\n      this.$refs.headForm.resetFields()\r\n      this.headForm.newHead=''\r\n    },\r\n    // 文件超出个数限制时的钩子\r\n    handleExceed (files, fileList) {\r\n      this.hideUpload = fileList.length >= this.limitNum;\r\n    },\r\n    // 文件列表移除文件时的钩子\r\n    handleRemove (file, fileList) {\r\n      this.hideUpload = fileList.length >= this.limitNum;\r\n\r\n    },\r\n    // 点击文件列表中已上传的文件时的钩子\r\n    handlePictureCardPreview (file) {\r\n      this.dialogImageUrl = file.url;\r\n      this.dialogVisible = true;\r\n    },\r\n    uploadFile () {\r\n      this.$refs.upload.submit()\r\n    },\r\n    imgChange (files, fileList) {\r\n      this.hideUpload = fileList.length >= this.limitNum;\r\n      if (fileList) {\r\n        this.$refs.uploadElement.clearValidate();\r\n      }\r\n    },\r\n    handleAvatarSuccess(response){\r\n      window.console.log(response)\r\n    },\r\n    toCancel(){\r\n      this.changeHeadVisible=false\r\n    }\r\n    },\r\n    mounted() {\r\n      console.log(this.$route.params.personId)\r\n      this.ID=this.$route.params.personId\r\n      if(this.ID===localStorage.userId){\r\n        this.ifChangeVisible=true\r\n        this.ifChangeHeadVisible=true\r\n        this.getPersonInfo(this.$route.params.personId)\r\n      }\r\n      else {\r\n        this.ifChangeVisible=false\r\n        this.ifChangeHeadVisible=false\r\n        this.getOtherInfo(this.$route.params.personId)\r\n      }\r\n      //this.getAvatar()//获取的头像都是登录用户的头像\r\n    },\r\n    watch: {\r\n      head: {\r\n        handler(oldValue,newValue){\r\n          if(oldValue!==newValue){\r\n            this.getPersonInfo(this.ID)\r\n          }\r\n        },\r\n        immediate:true\r\n      }\r\n    }\r\n  }\r\n</script>\r\n\r\n<style>\r\n  .person{\r\n    /*position: fixed;*/\r\n    /*width: 100%;*/\r\n    /*height: 100%;*/\r\n    background-color: whitesmoke;\r\n  }\r\n\r\n  .box{\r\n    width: 70%;\r\n    text-align: center;\r\n    margin-left: 15%;\r\n    /*margin-top: 80px;*/\r\n    height: calc(100vh - 50px);\r\n  }\r\n  \r\n  .avatar-uploader .el-upload {\r\n    border: 1px dashed #d9d9d9;\r\n    border-radius: 6px;\r\n    cursor: pointer;\r\n    position: relative;\r\n    overflow: hidden;\r\n  }\r\n  .avatar-uploader .el-upload:hover {\r\n    border-color: #409EFF;\r\n  }\r\n  .avatar-uploader-icon {\r\n    font-size: 28px;\r\n    color: #8c939d;\r\n    width: 178px;\r\n    height: 178px;\r\n    line-height: 178px;\r\n    text-align: center;\r\n  }\r\n  .avatar {\r\n    width: 178px;\r\n    height: 178px;\r\n    display: block;\r\n  }\r\n\r\n  .hide .el-upload--picture-card{\r\n    display: none !important;\r\n  }\r\n  \r\n</style>","import mod from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./PersonInfo.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./PersonInfo.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./PersonInfo.vue?vue&type=template&id=ca0b1d32&\"\nimport script from \"./PersonInfo.vue?vue&type=script&lang=js&\"\nexport * from \"./PersonInfo.vue?vue&type=script&lang=js&\"\nimport style0 from \"./PersonInfo.vue?vue&type=style&index=0&lang=css&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","import mod from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../node_modules/css-loader/dist/cjs.js??ref--6-oneOf-1-1!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-2!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./PersonInfo.vue?vue&type=style&index=0&lang=css&\"; export default mod; export * from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../node_modules/css-loader/dist/cjs.js??ref--6-oneOf-1-1!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-2!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./PersonInfo.vue?vue&type=style&index=0&lang=css&\""],"sourceRoot":""}