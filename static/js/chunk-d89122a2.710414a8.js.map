{"version":3,"sources":["webpack:///./src/views/Team.vue?8cfa","webpack:///./src/views/Team.vue?5e20","webpack:///src/views/Team.vue","webpack:///./src/views/Team.vue?35c3","webpack:///./src/views/Team.vue"],"names":["render","_vm","this","_h","$createElement","_c","_self","directives","name","rawName","value","title","webTitle","expression","staticClass","attrs","_v","_l","item","index","key","staticStyle","nativeOn","$event","isHover","on","handleClick","id","_e","addPeople","toOneTeam","_s","newTeam","infoDialog","Info","toPerson","builderId","builder","create_time","userImg","userName","checkMove","isBuilder","userId","isCo","Delete","folderDialog","dialogTeam","type","NAME","changeVisible","staticRenderFns","component"],"mappings":"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","file":"static/js/chunk-d89122a2.710414a8.js","sourcesContent":["import mod from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../node_modules/css-loader/dist/cjs.js??ref--6-oneOf-1-1!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-2!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Team.vue?vue&type=style&index=0&id=d48289ec&scoped=true&lang=css&\"; export default mod; export * from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../node_modules/css-loader/dist/cjs.js??ref--6-oneOf-1-1!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-2!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Team.vue?vue&type=style&index=0&id=d48289ec&scoped=true&lang=css&\"","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{directives:[{name:\"web-title\",rawName:\"v-web-title\",value:({title:_vm.webTitle}),expression:\"{title:webTitle}\"}],staticClass:\"myTeams\"},[_c('el-col',{attrs:{\"span\":4}},[_c('work-space')],1),_c('el-col',{attrs:{\"span\":20}}),_c('el-container',[_c('el-main',[_c('h3',[_vm._v(\"我的团队\")]),_c('el-row',{attrs:{\"gutter\":35}},_vm._l((_vm.teams),function(item,index){return _c('el-col',{key:index,staticStyle:{\"margin-bottom\":\"20px\"},attrs:{\"span\":4}},[_c('div',{staticStyle:{\"text-align\":\"center\",\"height\":\"100px\"}},[_c('el-card',{staticClass:\"teamCard\",attrs:{\"shadow\":\"hover\"},nativeOn:{\"mouseenter\":function($event){_vm.isHover = true},\"mouseleave\":function($event){_vm.isHover=false}}},[(_vm.isHover)?_c('div',{staticStyle:{\"right\":\"5px\",\"line-height\":\"5px\",\"position\":\"absolute\",\"top\":\"5px\",\"font-size\":\"x-small\"}},[_c('el-tooltip',{attrs:{\"effect\":\"dark\",\"placement\":\"bottom\",\"hide-after\":800,\"enterable\":false,\"content\":\"查看团队信息\"}},[_c('i',{staticClass:\"el-icon-s-tools\",on:{\"click\":function($event){return _vm.handleClick(item.id)}}})])],1):_vm._e(),(_vm.isHover)?_c('div',{staticStyle:{\"right\":\"5px\",\"line-height\":\"5px\",\"position\":\"absolute\",\"top\":\"25px\",\"font-size\":\"x-small\"}},[_c('el-tooltip',{attrs:{\"effect\":\"dark\",\"placement\":\"bottom\",\"hide-after\":800,\"enterable\":false,\"content\":\"添加队员\"}},[_c('i',{staticClass:\"el-icon-s-custom\",on:{\"click\":function($event){return _vm.addPeople(item.id)}}})])],1):_vm._e(),_c('div',{staticStyle:{\"font-size\":\"40px\"}},[_c('i',{staticClass:\"el-icon-pie-chart\",on:{\"click\":function($event){return _vm.toOneTeam(item.id)}}})]),_c('div',{staticStyle:{\"cursor\":\"pointer\"},on:{\"click\":function($event){return _vm.toOneTeam(item.id)}}},[_vm._v(_vm._s(item.name))])])],1)])}),1)],1),_c('el-aside',{staticStyle:{\"text-align\":\"center\",\"padding\":\"50px\",\"line-height\":\"80px\"}},[_c('div',[_c('el-button',{attrs:{\"plain\":\"\",\"type\":\"primary\"},on:{\"click\":_vm.newTeam}},[_vm._v(\"创建团队\")])],1)])],1),_c('el-dialog',{attrs:{\"title\":\"团队详细信息\",\"visible\":_vm.infoDialog,\"width\":\"30%\",\"center\":\"\"},on:{\"update:visible\":function($event){_vm.infoDialog=$event}}},[_c('div',[_c('div',[_c('span',{staticStyle:{\"width\":\"120px\",\"display\":\"inline-block\"}},[_vm._v(\"团队名：\")]),_vm._v(_vm._s(_vm.Info.name))]),_c('div',[_c('span',{staticStyle:{\"width\":\"120px\",\"display\":\"inline-block\"}},[_vm._v(\"创建者：\")]),_c('span',{staticStyle:{\"cursor\":\"pointer\"},on:{\"click\":function($event){return _vm.toPerson(_vm.Info.builderId)}}},[_vm._v(_vm._s(_vm.Info.builder))])]),_c('div',[_c('span',{staticStyle:{\"width\":\"40px\"}},[_vm._v(\"创建日期：\")]),_vm._v(_vm._s(_vm.Info.create_time))]),_c('el-divider'),_c('div',[_vm._v(\"所有成员： \"),_vm._l((_vm.Info.coworkers),function(item,index){return _c('div',{key:index,staticClass:\"coworkers\"},[_c('el-avatar',{staticStyle:{\"cursor\":\"pointer\",\"vertical-align\":\"middle\"},attrs:{\"src\":item.userImg,\"size\":'small'}}),_c('span',{staticStyle:{\"height\":\"28px\",\"padding-right\":\"15px\",\"margin-left\":\"10px\"}},[_vm._v(_vm._s(item.userName))]),(item.isBuilder)?_c('i',{staticClass:\"el-icon-user\"}):_vm._e(),(_vm.isCo)?_c('el-link',{staticStyle:{\"position\":\"absolute\",\"right\":\"15px\",\"top\":\"10px\"},attrs:{\"type\":\"danger\"},on:{\"click\":function($event){return _vm.checkMove(item)}}},[(!item.isBuilder&&_vm.userId===_vm.Info.builderId+'')?_c('span',[_vm._v(\"移除\")]):(!item.isBuilder&&_vm.isCo)?_c('span',[_vm._v(\"退出\")]):_vm._e()]):_vm._e()],1)})],2),(_vm.userId===_vm.Info.builderId+'')?_c('el-divider'):_vm._e(),(_vm.userId===_vm.Info.builderId+'')?_c('el-link',{staticStyle:{\"float\":\"right\",\"font-size\":\"16px\"},attrs:{\"plain\":\"\",\"type\":\"danger\"},on:{\"click\":function($event){return _vm.Delete(_vm.Info.id)}}},[_c('span',[_vm._v(\"解散团队\")])]):_vm._e()],1)]),_c('folder-dialog',{attrs:{\"dialog\":_vm.folderDialog,\"doc-id\":_vm.dialogTeam,\"type\":_vm.type,\"name\":_vm.NAME},on:{\"changeVisible\":_vm.changeVisible}})],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\r\n  <div class=\"myTeams\" v-web-title=\"{title:webTitle}\">\r\n    <el-col :span=\"4\">\r\n      <work-space></work-space>\r\n    </el-col>\r\n    <el-col :span=\"20\"></el-col><el-container>\r\n      <el-main>\r\n        <h3>我的团队</h3><!--按修改日期倒序-->\r\n        <el-row :gutter=\"35\">\r\n          <el-col :span=\"4\" v-for=\"(item, index) in teams\" :key=\"index\" style=\"margin-bottom: 20px;\">\r\n            <div style=\"text-align: center; height: 100px;\">\r\n              <el-card class=\"teamCard\" shadow=\"hover\" @mouseenter.native=\"isHover = true\" @mouseleave.native=\"isHover=false\">\r\n                <div style=\"right: 5px; line-height: 5px;position: absolute; top: 5px; font-size: x-small\" v-if=\"isHover\">\r\n                  <el-tooltip effect=\"dark\" placement=\"bottom\" :hide-after=\"800\" :enterable=\"false\" content=\"查看团队信息\">\r\n                  <i class=\"el-icon-s-tools\" @click=\"handleClick(item.id)\"></i>\r\n                  </el-tooltip>\r\n                </div>\r\n                <div style=\"right: 5px; line-height: 5px;position: absolute; top: 25px; font-size: x-small\" v-if=\"isHover\">\r\n                  <el-tooltip effect=\"dark\" placement=\"bottom\" :hide-after=\"800\" :enterable=\"false\" content=\"添加队员\">\r\n                  <i class=\"el-icon-s-custom\" @click=\"addPeople(item.id)\"></i>\r\n                  </el-tooltip>\r\n                </div>\r\n                <div style=\"font-size: 40px;\"><i class=\"el-icon-pie-chart\" @click=\"toOneTeam(item.id)\"></i></div>\r\n                <div @click=\"toOneTeam(item.id)\" style=\"cursor: pointer;\">{{item.name}}</div>\r\n              </el-card>\r\n            </div>\r\n          </el-col>\r\n        </el-row>\r\n      </el-main>\r\n      <el-aside style=\"text-align: center; padding: 50px; line-height: 80px;\">\r\n<!--        <div><el-button plain type=\"primary\" disabled>新建文档</el-button></div>-->\r\n<!--        <div><el-button plain type=\"primary\" disabled>新建文件夹</el-button></div>-->\r\n<!--        <div><el-button plain type=\"primary\">模板库</el-button></div>-->\r\n        <div><el-button plain type=\"primary\" @click=\"newTeam\">创建团队</el-button></div>\r\n      </el-aside>\r\n    </el-container>\r\n\r\n    <el-dialog\r\n      title=\"团队详细信息\"\r\n      :visible.sync=\"infoDialog\"\r\n      width=\"30%\"\r\n      center>\r\n      <div>\r\n        <div><span style=\"width: 120px;display:inline-block;\">团队名：</span>{{Info.name}}</div>\r\n        <div>\r\n          <span style=\"width: 120px;display:inline-block;\">创建者：</span>\r\n          <span style=\"cursor: pointer;\" @click=\"toPerson(Info.builderId)\">{{Info.builder}}</span>\r\n        </div>\r\n      <div><span style=\"width: 40px;\">创建日期：</span>{{Info.create_time}}</div>\r\n        <el-divider></el-divider>\r\n        <div>所有成员：\r\n          <div v-for=\"(item, index) in Info.coworkers\" :key=\"index\" class=\"coworkers\">\r\n            <el-avatar :src=\"item.userImg\" :size=\"'small'\" style=\"cursor: pointer;vertical-align: middle;\"></el-avatar>\r\n            <span style=\"height: 28px; padding-right: 15px;margin-left: 10px;\">{{item.userName}}</span>\r\n            <i class=\"el-icon-user\" v-if=\"item.isBuilder\"></i>\r\n            <el-link type=\"danger\" style=\"position: absolute; right: 15px; top: 10px;\"\r\n                     @click=\"checkMove(item)\" v-if=\"isCo\">\r\n              <span v-if=\"!item.isBuilder&&userId===Info.builderId+''\">移除</span>\r\n              <span v-else-if=\"!item.isBuilder&&isCo\">退出</span>\r\n            </el-link>\r\n          </div>\r\n        </div>\r\n        <el-divider v-if=\"userId===Info.builderId+''\"></el-divider>\r\n<!--        <el-link plain type=\"primary\" style=\"font-size: 16px;\">分享</el-link>-->\r\n        <el-link plain type=\"danger\" style=\"float: right; font-size: 16px;\" @click=\"Delete(Info.id)\" v-if=\"userId===Info.builderId+''\">\r\n          <span>解散团队</span>\r\n        </el-link>\r\n      </div>\r\n    </el-dialog>\r\n\r\n    <folder-dialog\r\n        :dialog=\"folderDialog\"\r\n        @changeVisible=\"changeVisible\"\r\n        :doc-id=\"dialogTeam\"\r\n        :type=\"type\"\r\n        :name=\"NAME\"></folder-dialog>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\n  import {deleteDoc, fetchCoworkers, fetchTeams, removeCoworker} from \"../api/api\";\r\n  import {GetTime} from \"../main\";\r\n\r\n  export default {\r\n    name: \"myTeam\",\r\n    data(){\r\n      return {\r\n        isCo:false,\r\n        webTitle:'团队空间',\r\n        userId:localStorage.getItem('userId'),\r\n        teams:[\r\n          // {\r\n          //   id: 1,\r\n          //   name: '小学期1'\r\n          // },\r\n          // {\r\n          //   id: 2,\r\n          //   name: '小学期2'\r\n          // }\r\n        ],\r\n        folderDialog : false,\r\n        type: '',\r\n        dialogTeam: '',\r\n        Info:{\r\n          id:1,\r\n          builder: 'Kelly',\r\n          coworkers:[\r\n            {\r\n              userId: 1,\r\n              userName: 'Kelly',\r\n              isBuilder: true,\r\n              isCollected: true,\r\n              userImg: 'https://fuss10.elemecdn.com/e/5d/4a731a90594a4af544c0c25941171jpeg.jpeg'\r\n            },\r\n            {\r\n              userId: 2,\r\n              userName: 'Kelly2',\r\n              isBuilder: false,\r\n              isCollected: true,\r\n              userImg: 'https://fuss10.elemecdn.com/e/5d/4a731a90594a4af544c0c25941171jpeg.jpeg'\r\n            }\r\n          ]\r\n        },\r\n        infoDialog: false,\r\n        isHover: false,\r\n        NAME: '',\r\n      }\r\n    },\r\n    mounted(){\r\n      this.init()\r\n    },\r\n    methods:{\r\n      init(){\r\n        fetchTeams().then(res=>{\r\n          if(res.status === 200){\r\n            this.teams = []\r\n            res.data.forEach(i=>{\r\n              this.teams.push({\r\n                id: i.id,\r\n                name: i.name,\r\n                create_time : GetTime(i.create_time),\r\n                builder : i.create_user.username,\r\n                builderId: i.create_user.id\r\n              })\r\n            })\r\n          }\r\n        })\r\n      },\r\n      toOneTeam(id){\r\n        this.$router.push({name:'team', params: {teamId: id}})\r\n      },\r\n      changeVisible(val){\r\n        this.folderDialog = val\r\n        this.init()\r\n      },\r\n      newTeam(){\r\n        this.type = 'newteam'\r\n        this.folderDialog = true\r\n      },\r\n      addPeople(id){\r\n        this.type = 'teamwork'\r\n        this.dialogTeam = id\r\n        this.teams.forEach(i=>{\r\n          if(i.id +''=== id+''){\r\n            this.NAME = i.name\r\n            return ;\r\n          }\r\n        })\r\n        console.log(this.NAME)\r\n        this.folderDialog = true\r\n      },\r\n      handleClick(id){\r\n        this.teams.forEach(i=>{\r\n          if(i.id === id){\r\n            this.Info = i\r\n          }\r\n        })\r\n        fetchCoworkers(this.Info.id).then(res=>{\r\n          this.Info.coworkers = []\r\n          console.log(res.data)\r\n          this.isCo = false;\r\n          res.data.forEach((i, index) => {\r\n            if(i.id+'' === this.userId){\r\n              this.isCo = true\r\n            }\r\n            console.log(this.isCo)\r\n            if(index === 0){\r\n              this.Info.builder = i.username\r\n              this.Info.builderId = i.id\r\n            }\r\n            this.Info.coworkers.push({\r\n              userId: i.id,\r\n              userName: i.username,\r\n              userImg: i.head,\r\n              isBuilder: i.role===1? true:false,\r\n              role: i.role\r\n            })\r\n            console.log(i.id, this.Info.coworkers)\r\n          })\r\n          this.infoDialog = true\r\n        }).catch(e => {this.$message({message: e.response.data, typd:'error'})})\r\n      },\r\n      Delete(id){\r\n        if(this.userId === this.Info.builderId){\r\n          let message = '确定要退出团队吗？'\r\n          this.$confirm(message).then(()=>{\r\n            removeCoworker(id, localStorage.getItem('userId')).then(res => {\r\n              if(res.status === 200){\r\n                this.$message({message:'退出团队成功', type: 'warning'})\r\n              } else if(res.status == 204){\r\n                this.$message({message:'发生其他错误，退出团队失败', type:'error'})\r\n              }\r\n            }).catch(e=>{\r\n              if(e.response && e.response.status === 401){\r\n                this.$message({message:'您没有删除权限或此人不在协作者中', type: 'error'})\r\n              }\r\n            })\r\n          })\r\n        } else{\r\n          let message='确定要删除团队吗？'\r\n          this.$confirm(message).then(() => {\r\n            deleteDoc(id).then(res => {\r\n              if(res.status === 204){\r\n                this.$message({message:'删除团队成功', type: 'info'})\r\n                this.init()\r\n              }\r\n            }).catch(e=>this.$message({message:e.response.data, type:'error'}))\r\n            this.infoDialog = false\r\n          })\r\n        }\r\n      },\r\n      checkMove(item){\r\n        let message = '确定要移除ta吗？'\r\n        this.$confirm(message).then(() => {\r\n          removeCoworker(this.Info.id, item.userId).then(res=>{\r\n            if(res.status === 200){\r\n              this.Info.coworkers = []\r\n              res.data.forEach((i, index) => {\r\n                if(index === 0){\r\n                  this.Info.builder = i.username\r\n                  this.Info.builderId = i.id\r\n                }\r\n                this.Info.coworkers.push({\r\n                  userId: i.id,\r\n                  userName: i.username,\r\n                  userImg: i.head,\r\n                  isBuilder: i.role===1? true:false,\r\n                  role: i.role\r\n                })\r\n              })\r\n              this.init()//好像不需要\r\n              this.Dialog = false\r\n              this.$message({message:'移除成功', type:'info'})\r\n            } else {\r\n              this.$message({message:'发生其他错误', type:'error'})\r\n            }\r\n          }).catch(e=>{\r\n            if(e.response.status === 401){\r\n              this.$message({message:'您没有删除权限或此人不在团队中', type: 'error'})\r\n            }\r\n          })\r\n          this.infoDialog = false\r\n        })\r\n      },\r\n    }\r\n  }\r\n</script>\r\n\r\n<style scoped>\r\n  .el-aside{\r\n    width: 300px;\r\n    height: calc(100vh - 50px);\r\n  }\r\n  .myTeams{\r\n    background-color: whitesmoke;\r\n  }\r\n  .el-button{\r\n    width: 150px;\r\n  }\r\n\r\n  .teamCard{\r\n    border: 0px;\r\n    background-color: #FFF;\r\n    transition: .3s;\r\n    height: 100%;\r\n    background-color:rgba(0,0,0,0);\r\n    position: relative;\r\n  }\r\n  .teamCard i{\r\n    cursor: pointer;\r\n  }\r\n</style>","import mod from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Team.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Team.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./Team.vue?vue&type=template&id=d48289ec&scoped=true&\"\nimport script from \"./Team.vue?vue&type=script&lang=js&\"\nexport * from \"./Team.vue?vue&type=script&lang=js&\"\nimport style0 from \"./Team.vue?vue&type=style&index=0&id=d48289ec&scoped=true&lang=css&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"d48289ec\",\n  null\n  \n)\n\nexport default component.exports"],"sourceRoot":""}