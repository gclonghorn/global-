(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-c0c132f8"],{"0566":function(e,t,s){e.exports=s.p+"static/img/14.36009c75.png"},"578b":function(e,t,s){e.exports=s.p+"static/img/11.d92cce6e.png"},6844:function(e,t,s){"use strict";var r=s("e23c"),o=s.n(r);o.a},"73cf":function(e,t,s){"use strict";s.r(t);var r=function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("div",{directives:[{name:"web-title",rawName:"v-web-title",value:{title:"欢迎使用环球文档-注册"},expression:"{title:'欢迎使用环球文档-注册'}"}],staticClass:"basic"},[s("el-container",[s("el-main",[s("div",{staticClass:"block",staticStyle:{"margin-top":"60px"}},[s("el-carousel",{attrs:{interval:5e3,arrow:"always",height:"540px"}},e._l(e.imgList,(function(e,t){return s("el-carousel-item",{key:t},[s("img",{staticStyle:{width:"100%"},attrs:{src:e.url}})])})),1)],1)]),s("el-aside",{attrs:{width:"450px"}},[s("div",{staticStyle:{"justify-content":"center","margin-top":"100px"}},[s("el-card",{staticStyle:{width:"400px","margin-top":"140px","margin-left":"15px",height:"400px"},attrs:{shadow:"hover"}},[s("div",{staticClass:"clearfix",attrs:{slot:"header"},slot:"header"},[s("span",{staticStyle:{"margin-left":"45%"}},[e._v("注 册")])]),s("el-form",{ref:"infoForm",attrs:{size:"small",model:e.user,rules:e.rules,"validate-on-rule-change":!0,"label-position":e.right,"status-icon":"true"}},[s("el-form-item",{attrs:{label:"手机号",prop:"phone"}},[s("el-input",{staticStyle:{width:"78%",float:"right"},attrs:{type:"tel","show-word-limit":"",id:"phone"},model:{value:e.user.phone,callback:function(t){e.$set(e.user,"phone",t)},expression:"user.phone"}})],1),s("el-form-item",{attrs:{label:"验证码",prop:"code"}},[s("el-input",{staticStyle:{width:"49%",float:"left","margin-left":"5%"},attrs:{"show-word-limit":""},model:{value:e.user.code,callback:function(t){e.$set(e.user,"code",t)},expression:"user.code"}}),s("el-button",{staticStyle:{float:"right",padding:"10px","line-height":"10px",width:"100px"},attrs:{disabled:e.codeButton},on:{click:e.getCode}},[e._v(e._s(e.content))])],1),s("el-form-item",{attrs:{label:"昵称",prop:"name"}},[s("el-input",{staticStyle:{width:"78%",float:"right"},attrs:{"show-word-limit":""},model:{value:e.user.name,callback:function(t){e.$set(e.user,"name",t)},expression:"user.name"}})],1),s("el-form-item",{attrs:{label:"密码",prop:"password1"}},[s("el-input",{staticStyle:{width:"78%",float:"right"},attrs:{type:"password",maxlength:"20","show-word-limit":""},model:{value:e.user.password1,callback:function(t){e.$set(e.user,"password1",t)},expression:"user.password1"}})],1),s("el-form-item",{attrs:{label:"密码确认",prop:"password2"}},[s("el-input",{staticStyle:{width:"78%",float:"right"},attrs:{placeholder:"请再次输入密码",type:"password",maxlength:"20","show-word-limit":""},nativeOn:{keydown:function(t){return!t.type.indexOf("key")&&e._k(t.keyCode,"enter",13,t.key,"Enter")?null:e.doRegister(t)}},model:{value:e.user.password2,callback:function(t){e.$set(e.user,"password2",t)},expression:"user.password2"}})],1),s("el-form-item",[s("el-button",{staticStyle:{width:"100%"},attrs:{type:"primary"},on:{click:e.doRegister}},[e._v("注册")]),s("tr",[s("el-link",{staticStyle:{float:"left"},attrs:{type:"primary",underline:!1},on:{click:e.toLogin}},[e._v("已有账号？点我登录")])],1)],1)],1)],1)],1)])],1)],1)},o=[],i=(s("053b"),s("4ec3")),a={data:function(){var e=this,t=function(t,s,r){""===s?r(new Error("请再次输入密码")):s!==e.user.password1?r(new Error("两次密码输入不一致")):r()};return{imgList:[{url:s("578b")},{url:s("c1a1")},{url:s("0566")},{url:s("f954")}],content:"发送验证码",time:60,codeButton:!1,user:{phone:"",code:"",name:"",password1:"",password2:""},rules:{phone:[{required:!0,message:"手机号不能为空",trigger:"blur"},{min:11,max:11,message:"请输入11位手机号",trigger:"blur"}],code:[{required:!0,message:"验证码不能为空",trigger:"blur"}],name:[{required:!0,message:"用户名不能为空",trigger:"blur"}],password1:[{required:!0,message:"密码不能为空",trigger:"blur"},{min:4,message:"密码至少4位",trigger:"blur"}],password2:[{required:!0,message:"两次输入密码必须一致",trigger:"blur",validator:t}]}}},mounted:function(){var e=document.getElementById("phone");e.focus(),localStorage.removeItem("token")},methods:{toLogin:function(){console.log("login",this.$route.params.redirect),this.$route.params.redirect?this.$router.push({name:"Login",params:{redirect:this.$route.params.redirect}}):this.$router.push({path:"/Login"})},getCode:function(){var e=this;if(!this.codeButton){this.codeButton=!0,this.codeButton=this.time+"s后重新发送";var t=window.setInterval((function(){e.time--,e.content=e.time+"s后重新发送",e.time<0&&(window.clearInterval(t),e.content="重新发送验证码",e.time=60,e.codeButton=!1)}),1e3);Object(i["C"])(this.user.phone).then((function(t){200===t.status?(console.log(t),e.$message({message:"验证码发送成功",type:"info"})):400===t.status&&e.$message({message:"验证码发送失败",type:"error"})})).catch((function(t){console.log(t.response),e.$message({message:t.response?t.response.data.mobile[0]:"null",type:"error"})}))}},doRegister:function(){var e=this;this.$refs.infoForm.validate((function(t){t&&Object(i["E"])(e.user.name,e.user.password1,e.user.password2,e.user.phone,e.user.code).then((function(t){console.log(t),e.$message({message:"注册成功",type:"info"}),400===t.status&&e.$message({message:"昵称或手机号已被使用 或验证码输入错误",type:"error"}),e.$router.push({path:"/Login"})})).catch((function(t){e.$message({message:t.response.data,type:"error"})}))}))}}},n=a,l=(s("6844"),s("2877")),c=Object(l["a"])(n,r,o,!1,null,null,null);t["default"]=c.exports},c1a1:function(e,t,s){e.exports=s.p+"static/img/13.85ebc94c.png"},e23c:function(e,t,s){},f954:function(e,t,s){e.exports=s.p+"static/img/15.0e37f0c9.png"}}]);
//# sourceMappingURL=chunk-c0c132f8.e3d5782e.js.map