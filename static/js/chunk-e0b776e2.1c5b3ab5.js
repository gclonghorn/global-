(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-e0b776e2"],{"0566":function(e,t,r){e.exports=r.p+"static/img/14.36009c75.png"},"578b":function(e,t,r){e.exports=r.p+"static/img/11.d92cce6e.png"},"9b76":function(e,t,r){},a55b:function(e,t,r){"use strict";r.r(t);var s=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",{directives:[{name:"web-title",rawName:"v-web-title",value:{title:"欢迎使用环球文档-登录"},expression:"{title:'欢迎使用环球文档-登录'}"}],staticClass:"basic"},[r("el-container",[r("el-main",[r("div",{staticClass:"block",staticStyle:{"margin-top":"60px"}},[r("el-carousel",{attrs:{interval:5e3,arrow:"always",height:"540px"}},e._l(e.imgList,(function(e,t){return r("el-carousel-item",{key:t},[r("img",{staticStyle:{width:"100%"},attrs:{src:e.url}})])})),1)],1)]),r("el-aside",{attrs:{width:"450px"}},[r("div",{staticStyle:{"justify-content":"center","margin-top":"100px"}},[r("el-card",{staticStyle:{width:"400px","margin-top":"140px","margin-left":"15px",height:"400px"},attrs:{shadow:"hover"}},[r("div",{staticClass:"clearfix",attrs:{slot:"header"},slot:"header"},[r("span",{staticStyle:{"margin-left":"45%"}},[e._v("登 录")])]),r("el-form",{ref:"infoForm",attrs:{model:e.user,rules:e.rules,enctype:"multipart/form-data","status-icon":"true"}},[r("el-form-item",{attrs:{label:"用户名",prop:"username"}},[r("br"),r("el-input",{staticStyle:{width:"100%",float:"right"},attrs:{"show-word-limit":"",id:"name"},model:{value:e.user.username,callback:function(t){e.$set(e.user,"username",t)},expression:"user.username"}})],1),r("el-form-item",{attrs:{label:"密码",prop:"password"}},[r("br"),r("el-input",{staticStyle:{width:"100%",float:"right"},attrs:{type:"password","show-word-limit":""},nativeOn:{keydown:function(t){return!t.type.indexOf("key")&&e._k(t.keyCode,"enter",13,t.key,"Enter")?null:e.doLogin(t)}},model:{value:e.user.password,callback:function(t){e.$set(e.user,"password",t)},expression:"user.password"}})],1),r("br"),r("el-form-item",[r("el-button",{staticStyle:{width:"100%"},attrs:{type:"primary"},on:{click:e.doLogin}},[e._v("登录")]),r("tr",[r("el-link",{staticStyle:{float:"left"},attrs:{type:"primary",underline:!1},on:{click:e.toRegister}},[e._v("没有账号？请先注册")])],1)],1)],1)],1)],1)])],1)],1)},a=[],i=r("4ec3"),o={data:function(){return{imgList:[{url:r("578b")},{url:r("c1a1")},{url:r("0566")},{url:r("f954")}],user:{username:"",password:""},rules:{username:[{required:!0,message:"请输入用户名",trigger:"blur"}],password:[{required:!0,message:"请输入密码",trigger:"blur"}]}}},methods:{doLogin:function(){var e=this;this.$refs.infoForm.validate((function(t){if(t){var r=e;Object(i["F"])(r.user.username,r.user.password).then((function(t){200===t.status?(console.log(t),localStorage.token=t.data.token,localStorage.userId=t.data.user_id,Object(i["B"])(localStorage.userId).then((function(t){200===t.status&&(localStorage.head=t.data.head,e.$addStorageEvent("head",e.head))})),e.$message({message:"登录成功",type:"info"}),console.log(e.$route.params.redirect,"redirect"),e.$router.push({path:e.$route.params.redirect||"/"})):console.log(t)})).catch((function(t){400===t.response.status&&e.$message({message:"用户名或密码错误",type:"error"})}))}}))},toRegister:function(){console.log("login",this.$route.params.redirect),this.$route.params.redirect?this.$router.push({name:"Register",params:{redirect:this.$route.params.redirect}}):this.$router.push({path:"/Register"})}},mounted:function(){var e=document.getElementById("name");e.focus()}},n=o,l=(r("b0f8"),r("2877")),c=Object(l["a"])(n,s,a,!1,null,null,null);t["default"]=c.exports},b0f8:function(e,t,r){"use strict";var s=r("9b76"),a=r.n(s);a.a},c1a1:function(e,t,r){e.exports=r.p+"static/img/13.85ebc94c.png"},f954:function(e,t,r){e.exports=r.p+"static/img/15.0e37f0c9.png"}}]);
//# sourceMappingURL=chunk-e0b776e2.1c5b3ab5.js.map