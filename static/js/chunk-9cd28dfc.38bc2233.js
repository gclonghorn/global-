(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-9cd28dfc"],{"19a5":function(e,t,s){"use strict";var a=s("a939"),n=s.n(a);n.a},"356b":function(e,t,s){},"718c":function(e,t,s){"use strict";var a=s("356b"),n=s.n(a);n.a},a939:function(e,t,s){},e529:function(e,t,s){"use strict";s.r(t);var a=function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("div",{staticClass:"basic"},[s("el-col",{attrs:{span:4}},[s("work-space")],1),s("el-col",{attrs:{span:20}}),s("el-container",[s("el-main",[s("h3",[e._v("收件箱")]),s("div",[s("messageCard",{attrs:{messages:e.messages}}),s("br")],1)]),s("el-aside",{staticStyle:{"text-align":"center",padding:"50px","line-height":"80px"}},[s("div",[s("el-button",{attrs:{type:"warning",plain:""},on:{click:e.readAll}},[e._v("全部已读")])],1),s("div",[s("el-button",{attrs:{type:"primary",plain:""},on:{click:e.getMessage}},[e._v("查看未读")])],1),s("div",[s("el-button",{attrs:{type:"warning",plain:""},on:{click:e.deleteAll}},[e._v("全部删除")])],1)])],1)],1)},n=[],i=function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("div",e._l(e.messages,(function(t){return s("div",{key:t.label},[s("el-card",{staticStyle:{width:"500px"}},[s("el-container",[s("el-col",{attrs:{span:"3"}},[1===t.type?s("i",{staticClass:"el-icon-user",staticStyle:{"margin-top":"40%","margin-left":"10px"}}):e._e(),2===t.type?s("i",{staticClass:"el-icon-s-comment",staticStyle:{"margin-top":"40%","margin-left":"10px"}}):e._e(),3===t.type?s("i",{staticClass:"el-icon-close",staticStyle:{"margin-top":"40%","margin-left":"10px"}}):e._e(),4===t.type?s("i",{staticClass:"el-icon-error",staticStyle:{"margin-top":"40%","margin-left":"10px"}}):e._e(),5===t.type?s("i",{staticClass:"el-icon-user",staticStyle:{"margin-top":"40%","margin-left":"10px"}}):e._e(),6===t.type?s("i",{staticClass:"el-icon-chat-line-round",staticStyle:{"margin-top":"40%","margin-left":"10px"}}):e._e(),7===t.type?s("i",{staticClass:"el-icon-chat-round",staticStyle:{"margin-top":"40%","margin-left":"10px"}}):e._e(),8===t.type?s("i",{staticClass:"el-icon-close",staticStyle:{"margin-top":"40%","margin-left":"10px"}}):e._e(),9===t.type?s("i",{staticClass:"el-icon-error",staticStyle:{"margin-top":"40%","margin-left":"10px"}}):e._e()]),s("el-col",{staticStyle:{"margin-top":"10px"}},[s("el-row",[s("div",{staticClass:"title"},[e._v(e._s(t.origin_user)+e._s(t.content))])]),s("el-row",[s("div",{staticClass:"details"},[e._v(e._s(t.detail))])]),s("br"),s("el-row",[s("el-col",{attrs:{span:"14"}},[s("time",{staticClass:"time"},[e._v(e._s(t.time))])]),s("el-button",{attrs:{type:"text",icon:"el-icon-close"},on:{click:function(s){return e.deleteMessage(t.id)}}},[e._v("删除")]),s("el-divider",{attrs:{direction:"vertical"}}),0===t.status?s("el-button",{attrs:{type:"text",icon:"el-icon-check"},on:{click:function(s){return e.readMessage(t.id,t.status)}}},[e._v("标为已读")]):e._e(),1===t.status?s("el-button",{attrs:{type:"text",disabled:"true"}},[e._v("已读")]):e._e()],1)],1)],1)],1),s("br")],1)})),0)},l=[],c=s("4ec3"),o={name:"messageCard",props:{messages:{type:Array,required:!0}},methods:{readMessage:function(e,t){1===t?t=0:0===t&&(t=1),Object(c["A"])(e,t).then((function(e){e.status,console.log(e)}))},deleteMessage:function(e){Object(c["h"])(e).then((function(e){e.status,console.log(e)}))}}},r=o,g=(s("19a5"),s("2877")),m=Object(g["a"])(r,i,l,!1,null,null,null),p=m.exports,u={data:function(){return{ifGetAllMessage:!0,messages:[{id:1,type:1,status:0,name:"whisper",content:"评论了[小学期]",detail:"这是一条不走心的评论",date:"2020/8/10"},{id:1,type:1,status:0,name:"whisper",content:"评论了[小学期]",detail:"这是一条不走心的评论",date:"2020/8/10"}]}},components:{messageCard:p},methods:{getAllMessage:function(){var e=this;Object(c["s"])().then((function(t){if(200===t.status){e.ifGetAllMessage=!0,console.log(t),e.messages=t.data;for(var s=0;s<e.messages.length;s++)1===e.messages[s].type?e.messages[s].content="邀请你加入团队":2===e.messages[s].type?e.messages[s].content="回复了你的团队邀请":3===e.messages[s].type?e.messages[s].content="退出了团队":4===e.messages[s].type?e.messages[s].content="将你移出团队":5===e.messages[s].type?e.messages[s].content="邀请你成为协作者":6===e.messages[s].type?e.messages[s].content="评论了你的文档":7===e.messages[s].type?e.messages[s].content="回复了你的评论":8===e.messages[s].type?e.messages[s].content="退出了文档协作者":9===e.messages[s].type&&(e.messages[s].content="将你移出文档协作者")}}))},getMessage:function(){var e=this;Object(c["t"])().then((function(t){if(200===t.status){e.ifGetAllMessage=!1,console.log(t),e.messages=t.data;for(var s=0;s<e.messages.length;s++)1===e.messages[s].type?e.messages[s].content="邀请你加入团队":2===e.messages[s].type?e.messages[s].content="回复了你的团队邀请":3===e.messages[s].type?e.messages[s].content="退出了团队":4===e.messages[s].type?e.messages[s].content="将你移出团队":5===e.messages[s].type?e.messages[s].content="邀请你成为协作者":6===e.messages[s].type?e.messages[s].content="评论了你的文档":7===e.messages[s].type?e.messages[s].content="回复了你的评论":8===e.messages[s].type?e.messages[s].content="退出了文档协作者":9===e.messages[s].type&&(e.messages[s].content="将你移出文档协作者")}}))},readAll:function(){var e=this;Object(c["z"])(localStorage.userId).then((function(t){200===t.status?(console.log(t),e.getAllMessage()):console.log(t)}))},deleteAll:function(){var e=this;Object(c["d"])(localStorage.userId).then((function(t){200===t.status?(console.log(t),e.getAllMessage):console.log(t)}))}},mounted:function(){this.getAllMessage()},watch:{messages:{handler:function(e,t){console.log(e),console.log(t),e!==t&&(!0===this.ifGetAllMessage?this.getAllMessage():!1===this.ifGetAllMessage&&this.getMessage())},deep:!0,immediate:!0}}},d=u,y=(s("718c"),Object(g["a"])(d,a,n,!1,null,null,null));t["default"]=y.exports}}]);
//# sourceMappingURL=chunk-9cd28dfc.38bc2233.js.map